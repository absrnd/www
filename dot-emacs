;; .emacs file for ASUS 1001px Netbook
;;

;; add melpa to package-list (only elpa by default?)

;; Added by Package.el.  This must come before configurations of
;; installed packages.  Don't delete this line.  If you don't want it,
;; just comment it out by adding a semicolon to the start of the line.
;; You may delete these explanatory comments.
(package-initialize)

(require 'package)
(add-to-list 'package-archives
	     '("melpa" . "http://melpa.org/packages/"))

;;
;; lambdanative support. Added by 'make .emacs' command in ~/apps/lambdanative
;;
(add-to-list 'load-path "/home/stuart/.cache/lambdanative/emacs")
(require 'lambdanative)

;;
;; setup org-webpage environment.
;; org-mode source files are in ~/projects/absrnd.github.org
;;
(require 'org-webpage)
(owp/add-project-config
 '("absrnd.github.io"
   :repository-directory "~/projects/absrnd.github.org"
   :remote (git "http://github.com/absrnd.github.io.git" "master")
   :site-domain "http://absrnd.github.io/"
   :site-main-title "Absolutely Random"
   :site-sub-title "Lisp programming blog, powered by Emacs"
   :theme (default)
   :source-browse-url ("GitHub" "https://github.com/absrnd/absrnd.github.io")))

;;
;; setup ORG-MODE publishing. The source for each site is located under ~/www/<sitename>/org
;; which allows multiple sites to be manages and published individually. HTML for sites is
;; published to ~/www/<sitename>/public_html
;;
;; Sites share org-mode-themes which are located in ~/www/org-html-themes
;;
(require 'ox-publish)
(setq org-publish-project-alist
      '(("org-absrnd"
	 :base-directory "~/www/absrnd/org/"
	 :base-extension "org"
	 :publishing-directory "~/www/absrnd/public_html/"
	 :recursive t
	 :publishing-function org-html-publish-to-html
	 :headline-levels 4             ; Just the default for this project.
	 :auto-preamble t)
	("media-absrnd"
	 :base-directory "~/www/absrnd/org/"
	 :base-extension "css\\|js\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf"
	 :publishing-directory "~/www/absrnd/public_html/"
	 :recursive t
	 :publishing-function org-publish-attachment
	 )
	("absrnd" :components ("org-absrnd" "media-absrnd"))))


(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(package-selected-packages (quote (ox-twbs slime org-webpage)))
 '(tool-bar-mode nil))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )

;;; Define LISP command for SLIME
(setq inferior-lisp-program "/usr/bin/sbcl")

;;; GOPHER
;(add-to-list 'load-path "~/.emacs.d/gopher")
;(require 'gopher)

;;; --------------
;;; org-mode setup
;;; --------------

;; set PlantUML classpath
(setq org-plantuml-jar-path
      (expand-file-name "~/bin/plantuml.jar"))

;; 

;; active Babel languages
(org-babel-do-load-languages
 'org-babel-load-languages
 '((plantuml . t)
   (emacs-lisp . t)
   (dot . t)
   ))
